{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\98414\\\\Desktop\\\\stockw\\\\src\\\\compenents\\\\ProductContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductContext = /*#__PURE__*/createContext();\nexport const ProductProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [selectedProductInfo, setSelectedProductInfo] = useState(null);\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\n  const selectProduct = product => {\n    setSelectedProductInfo(product);\n  };\n  const addToCart = product => {\n    // Check if the product already exists in the cart\n    const existingProductIndex = cart.findIndex(item => item.name === product.name && item.size === product.size && item.color === product.color);\n    let newCart;\n    if (existingProductIndex !== -1) {\n      // If the product already exists, update its quantity\n      newCart = [...cart];\n      newCart[existingProductIndex].quantity += product.quantity;\n    } else {\n      // If the product does not exist, add it to the cart\n      newCart = [...cart, product];\n    }\n\n    // Save the updated cart to local storage\n    localStorage.setItem('cart', JSON.stringify(newCart));\n\n    // Update the cart state\n    setCart(newCart);\n  };\n  const removeFromCart = product => {\n    const newCart = cart.filter(item => item.name !== product.name || item.size !== product.size || item.color !== product.color);\n    localStorage.setItem('cart', JSON.stringify(newCart));\n    setCart(newCart);\n  };\n  const updateQuantity = (product, newQuantity) => {\n    const newCart = [...cart];\n    const productIndex = newCart.findIndex(item => item.name === product.name && item.size === product.size && item.color === product.color);\n    if (productIndex !== -1) {\n      if (newQuantity === 0) {\n        newCart.splice(productIndex, 1);\n      } else {\n        newCart[productIndex].quantity = newQuantity;\n      }\n      localStorage.setItem('cart', JSON.stringify(newCart));\n      setCart(newCart);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: {\n      selectedProductInfo,\n      selectProduct,\n      cart,\n      addToCart,\n      removeFromCart,\n      updateQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductProvider, \"9AaSOCQrJn5QBg1jluZUF2XGu3c=\");\n_c = ProductProvider;\nexport default ProductContext;\nvar _c;\n$RefreshReg$(_c, \"ProductProvider\");","map":{"version":3,"names":["React","createContext","useState","jsxDEV","_jsxDEV","ProductContext","ProductProvider","_ref","_s","children","selectedProductInfo","setSelectedProductInfo","cart","setCart","JSON","parse","localStorage","getItem","selectProduct","product","addToCart","existingProductIndex","findIndex","item","name","size","color","newCart","quantity","setItem","stringify","removeFromCart","filter","updateQuantity","newQuantity","productIndex","splice","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/98414/Desktop/stockw/src/compenents/ProductContext.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\r\n\r\n\r\nexport const ProductContext = createContext();\r\n\r\nexport const ProductProvider = ({ children }) => {\r\n  \r\n  const [selectedProductInfo, setSelectedProductInfo] = useState(null);\r\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\r\n\r\n  const selectProduct = (product) => {\r\n    setSelectedProductInfo(product);\r\n  };\r\n\r\n  const addToCart = (product) => {\r\n    // Check if the product already exists in the cart\r\n    const existingProductIndex = cart.findIndex(\r\n      (item) => item.name === product.name && item.size === product.size && item.color === product.color\r\n    );\r\n  \r\n    let newCart;\r\n    if (existingProductIndex !== -1) {\r\n      // If the product already exists, update its quantity\r\n      newCart = [...cart];\r\n      newCart[existingProductIndex].quantity += product.quantity;\r\n    } else {\r\n      // If the product does not exist, add it to the cart\r\n      newCart = [...cart, product];\r\n    }\r\n  \r\n    // Save the updated cart to local storage\r\n    localStorage.setItem('cart', JSON.stringify(newCart));\r\n  \r\n    // Update the cart state\r\n    setCart(newCart);\r\n  };\r\n\r\n  const removeFromCart = (product) => {\r\n    const newCart = cart.filter(\r\n      (item) =>\r\n        item.name !== product.name ||\r\n        item.size !== product.size ||\r\n        item.color !== product.color\r\n    );\r\n    localStorage.setItem('cart', JSON.stringify(newCart));\r\n    setCart(newCart);\r\n  };\r\n  \r\n  const updateQuantity = (product, newQuantity) => {\r\n    const newCart = [...cart];\r\n    const productIndex = newCart.findIndex(\r\n      (item) =>\r\n        item.name === product.name &&\r\n        item.size === product.size &&\r\n        item.color === product.color\r\n    );\r\n    if (productIndex !== -1) {\r\n      if (newQuantity === 0) {\r\n        newCart.splice(productIndex, 1);\r\n      } else {\r\n        newCart[productIndex].quantity = newQuantity;\r\n      }\r\n      localStorage.setItem('cart', JSON.stringify(newCart));\r\n      setCart(newCart);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider\r\n      value={{ selectedProductInfo, selectProduct, cart, addToCart, removeFromCart,updateQuantity}}\r\n    >\r\n      {children}\r\n    </ProductContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProductContext;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}